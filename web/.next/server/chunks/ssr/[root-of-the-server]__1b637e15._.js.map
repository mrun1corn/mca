{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/src/lib/api.ts","turbopack:///[project]/src/components/LoginForm.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","const SERVER_API_BASE =\n  process.env.API_BASE_URL || process.env.API_PROXY_TARGET || process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:4000/api\";\nconst BROWSER_API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"/api\";\n\nexport function getServerApiBase() {\n  return SERVER_API_BASE;\n}\n\nexport function getBrowserApiBase() {\n  if (typeof window === \"undefined\") {\n    return SERVER_API_BASE;\n  }\n  return BROWSER_API_BASE || SERVER_API_BASE;\n}\n","\"use client\";\nimport { FormEvent, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { getBrowserApiBase } from \"@/lib/api\";\n\nexport default function LoginForm() {\n  const router = useRouter();\n  const [identifier, setIdentifier] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (event: FormEvent) => {\n    event.preventDefault();\n    setError(null);\n    setLoading(true);\n    try {\n      const res = await fetch(`${getBrowserApiBase()}/auth/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ identifier, password }),\n      });\n      if (!res.ok) {\n        const body = await res.json().catch(() => ({}));\n        throw new Error(body?.error || \"Login failed\");\n      }\n      router.push(\"/\");\n      router.refresh();\n    } catch (err: any) {\n      setError(err?.message || \"Login failed\");\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4 rounded-2xl border border-slate-200/70 dark:border-slate-800 bg-white/90 dark:bg-slate-900/40 p-6 shadow-lg max-w-md w-full\">\n      <div>\n        <label className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">Username or email</label>\n        <input\n          className=\"w-full mt-1 h-11 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-900/70 px-3 text-slate-900 dark:text-white\"\n          value={identifier}\n          onChange={(e) => setIdentifier(e.target.value)}\n          required\n        />\n      </div>\n      <div>\n        <label className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">Password</label>\n        <input\n          type=\"password\"\n          className=\"w-full mt-1 h-11 rounded-lg border border-slate-200 dark:border-slate-700 bg-white/70 dark:bg-slate-900/70 px-3 text-slate-900 dark:text-white\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n      </div>\n      {error ? <p className=\"text-sm text-rose-500\">{error}</p> : null}\n      <button\n        type=\"submit\"\n        disabled={loading}\n        className=\"w-full h-11 rounded-xl bg-gradient-to-r from-[#8F87F1] via-[#C68EFD] to-[#E9A5F1] text-white font-semibold shadow-lg transition hover:shadow-xl disabled:opacity-60 disabled:shadow-none\"\n      >\n        {loading ? \"Signing in...\" : \"Sign in\"}\n      </button>\n    </form>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}