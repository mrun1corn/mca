{"version":3,"sources":["turbopack:///[project]/src/components/layout/PageHeader.tsx","turbopack:///[project]/src/components/yearly/YearlyCollectionClient.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/(dashboard)/yearly/page.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\ntype Props = {\n  eyebrow?: string;\n  title: string;\n  description?: string;\n  actions?: ReactNode;\n};\n\nexport default function PageHeader({ eyebrow, title, description, actions }: Props) {\n  return (\n    <div className=\"mb-6 space-y-3\">\n      {eyebrow ? <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">{eyebrow}</p> : null}\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div className=\"space-y-2\">\n          <h1 className=\"text-2xl sm:text-3xl font-semibold text-slate-900 dark:text-white\">{title}</h1>\n          {description ? <p className=\"text-base text-slate-500 dark:text-slate-400 max-w-3xl\">{description}</p> : null}\n        </div>\n        {actions ? <div className=\"flex flex-wrap gap-2\">{actions}</div> : null}\n      </div>\n    </div>\n  );\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/yearly/YearlyCollectionClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/yearly/YearlyCollectionClient.tsx\",\n    \"default\",\n);\n","import PageHeader from \"@/components/layout/PageHeader\";\nimport YearlyCollectionClient from \"@/components/yearly/YearlyCollectionClient\";\nimport { getServerApiBase } from \"@/lib/api\";\nimport { buildServerCookieHeader } from \"@/lib/server/cookies\";\nimport { redirect } from \"next/navigation\";\n\ntype YearlyCollection = {\n  year: number;\n  total: number;\n  monthlyTotals: number[];\n  users: Array<{\n    userId: string;\n    name: string;\n    monthly: number[];\n    total: number;\n  }>;\n};\n\nasync function fetchYearlyCollection(year: number): Promise<YearlyCollection | null> {\n  const cookie = await buildServerCookieHeader();\n  const res = await fetch(`${getServerApiBase()}/reports/yearly-collection?year=${year}`, {\n    headers: cookie ? { Cookie: cookie } : undefined,\n    cache: \"no-store\",\n  });\n  if (res.status === 401) redirect(\"/login\");\n  if (!res.ok) return null;\n  return res.json();\n}\n\nexport default async function YearlyPage() {\n  const currentYear = new Date().getFullYear();\n  const initialData = await fetchYearlyCollection(currentYear);\n\n  return (\n    <div className=\"space-y-6\">\n      <PageHeader\n        eyebrow=\"Yearly collection\"\n        title=\"See how much the circle collected each year\"\n        description=\"Pick a year to break down deposits per member. Tap a card to open their month-by-month history.\"\n      />\n      <YearlyCollectionClient initialYear={currentYear} initialData={initialData ?? undefined} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"+WASe,SAAS,EAAW,SAAE,CAAO,OAAE,CAAK,CAAE,aAAW,SAAE,CAAO,CAAS,EAChF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,EAAU,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6DAAqD,IAAe,KAC5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6EAAqE,IAClF,EAAc,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kEAA0D,IAAmB,QAE1G,EAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAAwB,IAAiB,UAI3E,sDCpBe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,kTAAoT,EACjV,iFACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,8RAAgS,EAC7T,6DACA,mICLJ,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAcA,eAAe,EAAsB,CAAY,EAC/C,IAAM,EAAS,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,IACtC,EAAM,MAAM,MAAM,CAAA,EAAG,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAAG,gCAAgC,EAAE,EAAA,CAAM,CAAE,CACtF,QAAS,EAAS,CAAE,OAAQ,CAAO,OAAI,EACvC,MAAO,UACT,SAEA,CADmB,GACf,GADA,EAAI,MAAM,EAAU,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAC5B,EAAI,EAAE,EAAE,AACN,EAAI,IAAI,GADK,IAEtB,CAEe,eAAe,IAC5B,IAAM,EAAc,IAAI,OAAO,WAAW,GACpC,EAAc,MAAM,EAAsB,GAEhD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAU,CAAA,CACT,QAAQ,oBACR,MAAM,8CACN,YAAY,oGAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAsB,CAAA,CAAC,YAAa,EAAa,YAAa,QAAe,MAGpF","ignoreList":[1]}