{"version":3,"sources":["turbopack:///[project]/src/components/Panel.tsx","turbopack:///[project]/src/components/people/PeopleClient.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/(dashboard)/people/page.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\ntype Props = {\n  title?: ReactNode;\n  description?: ReactNode;\n  actions?: ReactNode;\n  children: ReactNode;\n  className?: string;\n};\n\nexport default function Panel({ title, description, actions, children, className = \"\" }: Props) {\n  return (\n    <section\n      className={`rounded-2xl border border-[#EADAFB]/70 dark:border-[#2b1f4a] bg-gradient-to-br from-[#FFFFFF] via-[#FCEBFF]/80 to-[#FED2E2]/70 dark:from-[#23143E]/90 dark:via-[#1C1033]/70 dark:to-[#120A23]/70 p-5 shadow-md transition-shadow hover:shadow-xl ${className}`.trim()}\n    >\n      {(title || description || actions) && (\n        <header className=\"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            {title ? <h2 className=\"text-base sm:text-lg font-semibold text-slate-900 dark:text-white\">{title}</h2> : null}\n            {description ? <p className=\"text-sm text-slate-500 dark:text-slate-400\">{description}</p> : null}\n          </div>\n          {actions ? <div className=\"flex flex-wrap gap-2\">{actions}</div> : null}\n        </header>\n      )}\n      <div className=\"space-y-4\">{children}</div>\n    </section>\n  );\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/people/PeopleClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/people/PeopleClient.tsx\",\n    \"default\",\n);\n","import Panel from \"@/components/Panel\";\nimport PeopleClient from \"@/components/people/PeopleClient\";\nimport { getServerApiBase } from \"@/lib/api\";\nimport { redirect } from \"next/navigation\";\nimport { buildServerCookieHeader } from \"@/lib/server/cookies\";\n\nasync function fetchUsers() {\n  const cookieHeader = await buildServerCookieHeader();\n  const res = await fetch(`${getServerApiBase()}/users`, {\n    headers: cookieHeader ? { Cookie: cookieHeader } : undefined,\n    cache: \"no-store\",\n  });\n  if (res.status === 401) redirect(\"/login\");\n  if (!res.ok) throw new Error(\"Failed to load members\");\n  return res.json();\n}\n\nasync function fetchMe() {\n  const cookieHeader = await buildServerCookieHeader();\n  const res = await fetch(`${getServerApiBase()}/me`, {\n    headers: cookieHeader ? { Cookie: cookieHeader } : undefined,\n    cache: \"no-store\",\n  });\n  if (res.status === 401) redirect(\"/login\");\n  if (!res.ok) throw new Error(\"Failed to load profile\");\n  return res.json();\n}\n\nexport default async function PeoplePage() {\n  const [users, me] = await Promise.all([fetchUsers(), fetchMe()]);\n  return (\n    <div className=\"space-y-6\">\n      <Panel\n        title=\"Everyone who touches the money\"\n        description=\"Keep names, roles, and contact info current so you always know who can approve deposits.\"\n      >\n        <PeopleClient initialUsers={users} isAdmin={me.role === \"admin\"} />\n      </Panel>\n    </div>\n  );\n}\n"],"names":[],"mappings":"gXAUe,SAAS,EAAM,OAAE,CAAK,aAAE,CAAW,CAAE,SAAO,UAAE,CAAQ,WAAE,EAAY,EAAE,CAAS,EAC5F,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CACC,UAAW,CAAC,iPAAiP,EAAE,EAAA,CAAW,CAAC,IAAI,aAE9Q,CAAC,GAAS,GAAe,CAAA,CAAO,EAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,oFAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,EAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6EAAqE,IAAc,KACzG,EAAc,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDAA8C,IAAmB,QAE9F,EAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAAwB,IAAiB,QAGvE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBAAa,MAGlC,sDCzBe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,wSAA0S,EACvU,uEACA,8DAHW,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,oRAAsR,EACnT,mDACA,mICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEA,eAAe,IACb,IAAM,EAAe,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,IAC5C,EAAM,MAAM,MAAM,CAAA,EAAG,CAAA,EAAA,EAAA,gBAAgB,AAAhB,IAAmB,MAAM,CAAC,CAAE,CACrD,QAAS,EAAe,CAAE,OAAQ,CAAa,OAAI,EACnD,MAAO,UACT,GAEA,GADmB,MAAf,EAAI,MAAM,EAAU,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,UAC7B,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,0BAC7B,OAAO,EAAI,IAAI,EACjB,CAEA,eAAe,IACb,IAAM,EAAe,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,IAC5C,EAAM,MAAM,MAAM,CAAA,EAAG,CAAA,EAAA,EAAA,gBAAgB,AAAhB,IAAmB,GAAG,CAAC,CAAE,CAClD,QAAS,EAAe,CAAE,OAAQ,CAAa,OAAI,EACnD,MAAO,UACT,GAEA,GADmB,MAAf,EAAI,MAAM,EAAU,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAC7B,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,0BAC7B,OAAO,EAAI,IAAI,EACjB,CAEe,eAAe,IAC5B,GAAM,CAAC,EAAO,EAAG,CAAG,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAc,IAAU,EAC/D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,MAAM,iCACN,YAAY,oGAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAY,CAAA,CAAC,aAAc,EAAO,QAAqB,UAAZ,EAAG,IAAI,MAI3D","ignoreList":[1]}