{"version":3,"sources":["turbopack:///[project]/src/lib/server/me.ts","turbopack:///[project]/src/components/layout/AppShell.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/providers/QueryProvider.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/components/providers/ToastProvider.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/(dashboard)/layout.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { getServerApiBase } from \"@/lib/api\";\nimport { buildServerCookieHeader } from \"@/lib/server/cookies\";\n\nexport type ServerMe = {\n  id: string;\n  name: string;\n  role: \"admin\" | \"accountant\" | \"user\";\n};\n\nexport async function fetchServerMe(cookieHeader?: string): Promise<ServerMe> {\n  const header = cookieHeader ?? (await buildServerCookieHeader());\n  if (!header) redirect(\"/login\");\n  const res = await fetch(`${getServerApiBase()}/me`, {\n    headers: { Cookie: header },\n    cache: \"no-store\",\n  });\n  if (res.status === 401) redirect(\"/login\");\n  if (!res.ok) throw new Error(\"Failed to load profile\");\n  return res.json();\n}\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/layout/AppShell.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/layout/AppShell.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/providers/QueryProvider.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/providers/QueryProvider.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/providers/ToastProvider.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/providers/ToastProvider.tsx\",\n    \"default\",\n);\nexport const useToast = registerClientReference(\n    function() { throw new Error(\"Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/providers/ToastProvider.tsx\",\n    \"useToast\",\n);\n","import AppShell from \"@/components/layout/AppShell\";\nimport QueryProvider from \"@/components/providers/QueryProvider\";\nimport ToastProvider from \"@/components/providers/ToastProvider\";\nimport type { ReactNode } from \"react\";\nimport { fetchServerMe } from \"@/lib/server/me\";\n\nexport default async function DashboardLayout({ children }: { children: ReactNode }) {\n  const me = await fetchServerMe();\n  return (\n    <AppShell me={me}>\n      <QueryProvider>\n        <ToastProvider>{children}</ToastProvider>\n      </QueryProvider>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":"uCAAA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAQO,eAAe,EAAc,CAAqB,EACvD,IAAM,EAAS,GAAiB,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,GACzD,CAAC,GAAQ,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UACtB,IAAM,EAAM,MAAM,MAAM,CAAA,EAAG,CAAA,EAAA,EAAA,gBAAgB,AAAhB,IAAmB,GAAG,CAAC,CAAE,CAClD,QAAS,CAAE,OAAQ,CAAO,EAC1B,MAAO,UACT,GAEA,GADmB,MAAf,EAAI,MAAM,EAAU,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAC7B,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,0BAC7B,OAAO,EAAI,IAAI,EACjB,2DClBe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,oSAAsS,EACnU,mEACA,8DAHW,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,gRAAkR,EAC/S,+CACA,wHCHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAU,AAAJ,MAAU,4SAA8S,EAC3U,2EACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAuB,AAAvB,EACX,WAAa,MAAM,AAAI,MAAM,wRAA0R,EACvT,uDACA,mHCJJ,IAAA,EAAA,EAAA,CAAA,CAAA,aACe,CAAA,EAAA,EAAA,uBAAuB,AAAvB,EACX,WAAa,MAAM,AAAI,MAAM,4SAA8S,EAC3U,2EACA,WAES,EAAW,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAC3C,WAAa,MAAM,AAAI,MAAM,8NAAgO,EAC7P,2EACA,wEATJ,IAAA,EAAA,EAAA,CAAA,CAAA,aACe,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAClC,WAAa,MAAU,AAAJ,MAAU,wRAA0R,EACvT,uDACA,WAES,EAAW,CAAA,EAAA,EAAA,uBAAA,AAAuB,EAC3C,WAAa,MAAM,AAAI,MAAM,8NAAgO,EAC7P,uDACA,kJCVJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,EAAgB,UAAE,CAAQ,CAA2B,EACjF,IAAM,EAAK,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,IAC9B,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CAAC,GAAI,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAa,CAAA,UAAE,OAIxB","ignoreList":[1,2,3]}