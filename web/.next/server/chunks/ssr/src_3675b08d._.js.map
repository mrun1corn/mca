{"version":3,"sources":["turbopack:///[project]/src/lib/format.ts","turbopack:///[project]/src/components/Button.tsx","turbopack:///[project]/src/components/deposit/DepositForm.tsx","turbopack:///[project]/src/components/deposit/DepositClient.tsx"],"sourcesContent":["export function formatBDT(valueMinor: number) {\n  const taka = (valueMinor || 0) / 100;\n  return new Intl.NumberFormat(\"en-BD\", { style: \"currency\", currency: \"BDT\" }).format(taka);\n}\n","\"use client\";\nimport { ButtonHTMLAttributes, DetailedHTMLProps } from \"react\";\n\ntype Props = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement> & {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"danger\";\n};\n\nconst variants: Record<NonNullable<Props[\"variant\"]>, string> = {\n  primary: \"bg-blue-600 text-white hover:bg-blue-500\",\n  secondary: \"bg-white border border-blue-200 text-blue-700 hover:bg-blue-50\",\n  ghost: \"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800\",\n  danger: \"bg-rose-600 text-white hover:bg-rose-500\",\n};\n\nexport default function Button({ variant = \"primary\", className = \"\", ...props }: Props) {\n  return (\n    <button\n      className={`inline-flex items-center justify-center gap-1.5 rounded-lg px-4 py-2 text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed ${variants[variant]} ${className}`}\n      {...props}\n    />\n  );\n}\n","\"use client\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport Button from \"@/components/Button\";\nimport { getBrowserApiBase } from \"@/lib/api\";\nimport { formatBDT } from \"@/lib/format\";\n\ntype Props = {\n  userId: string;\n};\n\ntype Due = {\n  _id: string;\n  principal: number;\n  months: number;\n  monthlyRatePct: number;\n  penaltyRule?: { graceDays?: number; monthlyPenaltyPct?: number; enabled?: boolean };\n  schedule: Array<{ dueDate: string; totalDuePoisha: number; paidPoisha?: number; status: string }>;\n};\n\nexport default function DepositForm({ userId }: Props) {\n  const [mode, setMode] = useState<\"simple\" | \"pay_due\" | \"investment_return\">(\"simple\");\n  const [amount, setAmount] = useState(\"\");\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [note, setNote] = useState(\"Deposit\");\n  const [includePenalty, setIncludePenalty] = useState(true);\n  const [dues, setDues] = useState<Due[]>([]);\n  const [dueId, setDueId] = useState<string | null>(null);\n  const [loadingDues, setLoadingDues] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [investments, setInvestments] = useState<Array<{ id: string; name: string; status: string; amountPoisha: number; returnedPoisha?: number }>>([]);\n  const [investmentId, setInvestmentId] = useState<string | null>(null);\n  const [loadingInvestments, setLoadingInvestments] = useState(false);\n  const [investmentError, setInvestmentError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setAmount(\"\");\n    setDueId(null);\n  }, [userId]);\n\n  useEffect(() => {\n    if (mode !== \"pay_due\") return;\n    setLoadingDues(true);\n    setError(null);\n    fetch(`${getBrowserApiBase()}/users/${userId}/dues`, { credentials: \"include\" })\n      .then(async (res) => {\n        if (!res.ok) throw new Error(\"Failed to load dues\");\n        const list = (await res.json()) as Due[];\n        setDues(list);\n        if (list.length && !dueId) setDueId(list[0]._id);\n      })\n      .catch((err: any) => setError(err?.message || \"Failed to load dues\"))\n      .finally(() => setLoadingDues(false));\n  }, [mode, userId, dueId]);\n\n  const hasOpenDues = dues.length > 0;\n  useEffect(() => {\n    if (mode === \"pay_due\" && hasOpenDues && !dueId) setDueId(dues[0]._id);\n  }, [mode, hasOpenDues, dues, dueId]);\n\n  useEffect(() => {\n    if (mode !== \"investment_return\") return;\n    setLoadingInvestments(true);\n    setInvestmentError(null);\n    fetch(`${getBrowserApiBase()}/investments`, { credentials: \"include\" })\n      .then(async (res) => {\n        if (!res.ok) throw new Error((await res.json())?.error || \"Failed to load investments\");\n        const list = await res.json();\n        setInvestments(list);\n        if (list.length) setInvestmentId(list[0].id);\n      })\n      .catch((err: any) => setInvestmentError(err?.message || \"Failed to load investments\"))\n      .finally(() => setLoadingInvestments(false));\n  }, [mode]);\n\n  useEffect(() => {\n    setNote((prev) => {\n      if (mode === \"investment_return\" && prev === \"Deposit\") return \"Investment return\";\n      if (mode !== \"investment_return\" && prev === \"Investment return\") return \"Deposit\";\n      return prev;\n    });\n  }, [mode]);\n\n  const selected = useMemo(() => dues.find((d) => d._id === dueId), [dues, dueId]);\n  const suggested = useMemo(() => {\n    if (!selected) return 0;\n    const today = new Date(date);\n    const grace = selected.penaltyRule?.graceDays ?? 3;\n    const pct = selected.penaltyRule?.monthlyPenaltyPct ?? 1;\n    for (const item of selected.schedule) {\n      if (item.status === \"paid\") continue;\n      const base = (item.totalDuePoisha || 0) - (item.paidPoisha || 0);\n      if (base <= 0) continue;\n      const dueDate = new Date(item.dueDate);\n      dueDate.setDate(dueDate.getDate() + grace);\n      let total = base;\n      if (includePenalty && today > dueDate && selected.penaltyRule?.enabled) {\n        total += Math.floor((item.totalDuePoisha * pct) / 100);\n      }\n      return total;\n    }\n    return 0;\n  }, [selected, includePenalty, date]);\n\n  const onSubmit = async () => {\n    if (!userId) return;\n    setSaving(true);\n    setError(null);\n    try {\n      if (mode === \"investment_return\") {\n        if (!investmentId) throw new Error(\"Pick an investment to credit the return against.\");\n        const amtTaka = Number(amount);\n        if (!amtTaka || !Number.isFinite(amtTaka)) throw new Error(\"Enter the amount that came back.\");\n        const res = await fetch(`${getBrowserApiBase()}/investments/${investmentId}/return`, {\n          method: \"POST\",\n          credentials: \"include\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ amount: amtTaka, date, note }),\n        });\n        if (!res.ok) throw new Error((await res.json())?.error || \"Failed to record investment return\");\n        setAmount(\"\");\n        setMode(\"simple\");\n        setInvestmentId(null);\n        return;\n      }\n\n      const payload: any = { userId, mode, date, note, includePenalty };\n      const amtTaka = Number(amount);\n      if (amount) payload.amount = Number.isFinite(amtTaka) ? amtTaka : 0;\n      else payload.amountPoisha = suggested || 0;\n      if (mode === \"pay_due\") payload.dueId = dueId;\n      const res = await fetch(`${getBrowserApiBase()}/deposit`, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n      });\n      if (!res.ok) throw new Error((await res.json())?.error || \"Deposit failed\");\n      setAmount(\"\");\n    } catch (err: any) {\n      setError(err?.message || \"Deposit failed\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <section className=\"rounded-2xl border border-slate-200 dark:border-slate-800 p-4 bg-white/70 dark:bg-slate-900/40 space-y-4\">\n        <header className=\"flex flex-col gap-2\">\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Step 1</p>\n          <h3 className=\"text-base font-semibold text-slate-900 dark:text-white\">Choose the intent</h3>\n        </header>\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n          <ModeCard title=\"Simple deposit\" body=\"Keeps the balance free for future withdrawals.\" active={mode === \"simple\"} onClick={() => setMode(\"simple\")} />\n          <ModeCard\n            title=\"Pay down a due\"\n            body={hasOpenDues ? \"Apply this to their repayment schedule.\" : \"No open dues right now.\"}\n            active={mode === \"pay_due\"}\n            onClick={() => setMode(\"pay_due\")}\n            disabled={!hasOpenDues}\n          />\n          <ModeCard\n            title=\"Investment return\"\n            body=\"Re-add money that just came back from an investment.\"\n            active={mode === \"investment_return\"}\n            onClick={() => setMode(\"investment_return\")}\n          />\n        </div>\n\n        {mode === \"pay_due\" && (\n          <div className=\"rounded-2xl border border-blue-100 dark:border-blue-500/30 bg-blue-50/60 dark:bg-blue-500/10 p-4 space-y-3\">\n            <div className=\"flex items-center justify-between gap-3\">\n              <h4 className=\"text-sm font-semibold text-slate-900 dark:text-white\">Target a due</h4>\n              <span className=\"text-xs text-blue-600 dark:text-blue-200 font-medium bg-blue-100/70 dark:bg-blue-500/20 px-2 py-0.5 rounded-full\">\n                {loadingDues ? \"Loading…\" : `${dues.length} open`}\n              </span>\n            </div>\n            <select className=\"input-like\" value={dueId || \"\"} onChange={(e) => setDueId(e.target.value)}>\n              <option value=\"\">Select due…</option>\n              {dues.map((d) => (\n                <option key={d._id} value={d._id}>\n                  Principal {formatBDT(d.principal)} — {d.months} mo @ {d.monthlyRatePct}%\n                </option>\n              ))}\n            </select>\n            <label className=\"inline-flex items-center gap-2 text-sm\">\n              <input type=\"checkbox\" checked={includePenalty} onChange={(e) => setIncludePenalty(e.target.checked)} />\n              Add penalty when grace period is over\n            </label>\n            <div className=\"text-xs text-blue-700 dark:text-blue-200 bg-white/60 dark:bg-slate-900/40 rounded-xl px-3 py-2 inline-flex items-center gap-2\">\n              Suggested instalment: <strong>{formatBDT(suggested)}</strong>\n            </div>\n          </div>\n        )}\n\n        {mode === \"investment_return\" && (\n          <div className=\"rounded-2xl border border-emerald-200 dark:border-emerald-500/40 bg-emerald-50/60 dark:bg-emerald-500/10 p-4 space-y-3\">\n            <div className=\"flex items-center justify-between gap-3\">\n              <h4 className=\"text-sm font-semibold text-slate-900 dark:text-white\">Select the investment</h4>\n              <span className=\"text-xs text-emerald-700 dark:text-emerald-200 font-medium bg-white/70 dark:bg-slate-900/40 px-2 py-0.5 rounded-full\">\n                {loadingInvestments ? \"Loading…\" : `${investments.length} recorded`}\n              </span>\n            </div>\n            <select className=\"input-like\" value={investmentId || \"\"} onChange={(e) => setInvestmentId(e.target.value || null)}>\n              <option value=\"\">Pick an investment…</option>\n              {investments.map((inv) => (\n                <option key={inv.id} value={inv.id}>\n                  {inv.name} · {inv.status === \"completed\" ? \"Completed\" : \"Active\"} ({formatBDT(inv.amountPoisha)})\n                </option>\n              ))}\n            </select>\n            {investmentError ? <p className=\"text-sm text-rose-500\">{investmentError}</p> : null}\n            {!investments.length && !loadingInvestments ? <p className=\"text-sm text-slate-500\">No investments recorded yet.</p> : null}\n          </div>\n        )}\n      </section>\n\n      <section className=\"rounded-2xl border border-slate-200 dark:border-slate-800 p-4 bg-white/80 dark:bg-slate-900/50 space-y-4\">\n        <header>\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Step 2</p>\n          <h3 className=\"text-base font-semibold text-slate-900 dark:text-white\">Fill in the details</h3>\n        </header>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <Field label=\"Amount (BDT)\">\n            <input className=\"input-like\" type=\"number\" step=\"0.01\" placeholder=\"0.00\" value={amount} onChange={(e) => setAmount(e.target.value)} />\n          </Field>\n          <Field label=\"Date\">\n            <input className=\"input-like\" type=\"date\" value={date} onChange={(e) => setDate(e.target.value)} />\n          </Field>\n        </div>\n        <Field label=\"Note\">\n          <input className=\"input-like\" value={note} onChange={(e) => setNote(e.target.value)} />\n        </Field>\n        {error ? <p className=\"text-sm text-rose-500\">{error}</p> : null}\n      </section>\n\n      <div className=\"flex justify-end\">\n        <Button onClick={onSubmit} disabled={saving}>\n          {saving ? \"Saving…\" : \"Save deposit\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction Field({ label, children }: { label: string; children: React.ReactNode }) {\n  return (\n    <div className=\"space-y-1\">\n      <label className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">{label}</label>\n      {children}\n    </div>\n  );\n}\n\nfunction ModeCard({ title, body, active, onClick, disabled }: { title: string; body: string; active: boolean; onClick: () => void; disabled?: boolean }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n      className={`rounded-2xl border p-4 text-left transition disabled:opacity-60 disabled:cursor-not-allowed ${\n        active\n          ? \"border-blue-400 bg-blue-50 text-blue-700 dark:border-blue-500 dark:bg-blue-500/10 dark:text-blue-200\"\n          : \"border-slate-200 dark:border-slate-700 hover:border-blue-200 hover:bg-blue-50/40 dark:hover:border-blue-500/40 dark:hover:bg-slate-800\"\n      }`}\n    >\n      <p className=\"font-semibold\">{title}</p>\n      <p className=\"text-sm text-slate-500 dark:text-slate-400\">{body}</p>\n    </button>\n  );\n}\n","\"use client\";\nimport { useState } from \"react\";\nimport DepositForm from \"./DepositForm\";\n\ntype Props = {\n  users: Array<{ id: string; name: string }>;\n};\n\nexport default function DepositClient({ users }: Props) {\n  const [userId, setUserId] = useState(users[0]?.id ?? \"\");\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <label className=\"text-sm font-medium text-slate-600 dark:text-slate-300\">Who is saving today?</label>\n        <select className=\"input-like\" value={userId} onChange={(e) => setUserId(e.target.value)}>\n          {users.map((user) => (\n            <option key={user.id} value={user.id}>\n              {user.name}\n            </option>\n          ))}\n        </select>\n        <p className=\"text-xs text-slate-500 dark:text-slate-400\">Need to add someone first? Head to the People page, then swing back here.</p>\n      </div>\n      {userId ? <DepositForm userId={userId} /> : <p className=\"text-sm text-slate-500\">Select a member to unlock the form.</p>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}