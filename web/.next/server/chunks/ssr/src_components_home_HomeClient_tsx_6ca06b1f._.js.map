{"version":3,"sources":["turbopack:///[project]/src/components/home/HomeClient.tsx","turbopack:///[project]/src/components/StatCard.tsx","turbopack:///[project]/src/components/MemberCard.tsx","turbopack:///[project]/src/components/MemberDrawer.tsx","turbopack:///[project]/src/components/home/TotalBalanceDrawer.tsx","turbopack:///[project]/src/components/home/YearlyPeek.tsx"],"sourcesContent":["\"use client\";\nimport { useMemo, useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Panel from \"@/components/Panel\";\nimport StatCard from \"@/components/StatCard\";\nimport MemberCard from \"@/components/MemberCard\";\nimport PageHeader from \"@/components/layout/PageHeader\";\nimport MemberDrawer from \"@/components/MemberDrawer\";\nimport TotalBalanceDrawer from \"@/components/home/TotalBalanceDrawer\";\nimport YearlyPeek from \"@/components/home/YearlyPeek\";\nimport { api } from \"@/lib/clientApi\";\nimport { formatBDT } from \"@/lib/format\";\nimport type { ServerMe } from \"@/lib/server/me\";\nimport type { HomeResponse, MemberSummary } from \"@/types/home\";\nimport { useRouter } from \"next/navigation\";\nimport { AnimatePresence } from \"framer-motion\";\n\ntype Props = {\n  initialData: HomeResponse;\n  me: ServerMe;\n};\n\nconst STALE_TIME = 30_000;\n\nexport default function HomeClient({ initialData, me }: Props) {\n  const router = useRouter();\n  const [drawerUserId, setDrawerUserId] = useState<string | null>(null);\n  const [showTotalsDrawer, setShowTotalsDrawer] = useState(false);\n  const home = useQuery<HomeResponse>({\n    queryKey: [\"home\"],\n    queryFn: async () => (await api.get(\"/home\")).data,\n    initialData,\n    staleTime: STALE_TIME,\n    gcTime: STALE_TIME * 4,\n    refetchOnWindowFocus: false,\n  });\n  const data = home.data;\n  const isRefreshing = home.isFetching && !!home.data;\n\n  const duesQuery = useQuery<any[]>({\n    queryKey: [\"dues\", me.id],\n    queryFn: async () => (await api.get(`/users/${me.id}/dues`)).data,\n    enabled: me.role === \"user\" && !!me.id,\n    staleTime: STALE_TIME,\n    refetchOnWindowFocus: false,\n  });\n\n  const userTxsQuery = useQuery<any[]>({\n    queryKey: [\"txs\", me.id, 12],\n    queryFn: async () => (await api.get(\"/transactions\", { params: { userId: me.id, limit: 20 } })).data,\n    enabled: me.role === \"user\" && !!me.id,\n    staleTime: STALE_TIME,\n    refetchOnWindowFocus: false,\n  });\n\n  const nextEmi = useMemo(() => {\n    if (me.role !== \"user\" || !duesQuery.data) return 0;\n    let soonest: number | null = null;\n    for (const due of duesQuery.data) {\n      for (const item of due.schedule) {\n        if (item.status === \"paid\") continue;\n        const remaining = (item.totalDuePoisha || 0) - (item.paidPoisha || 0);\n        if (remaining <= 0) continue;\n        soonest = remaining;\n        break;\n      }\n      if (soonest) break;\n    }\n    return soonest || 0;\n  }, [duesQuery.data, me.role]);\n\n  if (!data) return null;\n\n  if (me.role === \"user\" && data.cards.length) {\n    const card = data.cards[0];\n    const recent = userTxsQuery.data || card.recent || [];\n    return (\n      <div className=\"space-y-6\">\n        <PageHeader\n          eyebrow=\"My savings\"\n          title={`Hi ${me.name || \"there\"}, here’s the current picture`}\n          description=\"Balance, what you’ve contributed so far, and upcoming instalments if any are still pending.\"\n        />\n\n        <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n          <StatCard label=\"Savings balance\" value={formatBDT(data.groupBalance)} />\n          <StatCard label=\"Total contributed\" value={formatBDT(data.totalDeposits)} />\n          {nextEmi > 0 ? <StatCard label=\"Next payment due\" value={formatBDT(nextEmi)} helper=\"Covers your oldest pending instalment\" /> : null}\n        </div>\n\n        {isRefreshing ? <p className=\"text-xs text-slate-500\">Refreshing your dashboard…</p> : null}\n\n        <Panel title=\"Recent activity\" description=\"Only transactions tied to your name appear here.\">\n          <div className=\"grid grid-cols-12 text-xs text-slate-500 px-2\">\n            <div className=\"col-span-3\">Date</div>\n            <div className=\"col-span-5\">Details</div>\n            <div className=\"col-span-4 text-right\">Amount</div>\n          </div>\n          <div className=\"max-h-72 overflow-auto divide-y divide-slate-100 dark:divide-slate-800\">\n            {recent.length\n              ? recent.map((tx: any) => (\n                  <div key={tx._id || tx.date} className=\"grid grid-cols-12 items-center py-2 px-2 text-sm\">\n                    <span className=\"col-span-3\">{new Date(tx.occurredAt || tx.date).toLocaleDateString(\"en-BD\")}</span>\n                    <span className={`col-span-5 ${tx.type === \"deposit\" ? \"text-emerald-600\" : \"text-rose-600\"}`}>{tx.note || tx.type}</span>\n                    <span className=\"col-span-4 text-right\">{formatBDT(tx.amount)}</span>\n                  </div>\n                ))\n              : (\n                <div className=\"text-sm text-slate-500 px-2 py-3\">No transactions recorded yet.</div>\n              )}\n          </div>\n        </Panel>\n      </div>\n    );\n  }\n\n  const summaryStats = useMemo(() => {\n    if (!data) return [];\n    const stats: Array<{ label: string; value: string | number; helper?: string; onClick?: () => void }> = [\n      {\n        label: \"Total balance\",\n        value: formatBDT(data.groupBalance),\n        helper: \"Tap to compare deposits vs. deductions\",\n        onClick: () => setShowTotalsDrawer(true),\n      },\n      {\n        label: \"Available cash\",\n        value: formatBDT(data.groupBalance),\n        helper: \"See every member’s balance\",\n        onClick: () => router.push(\"/balances\"),\n      },\n      { label: \"Active members\", value: data.membersCount, helper: \"Counting only active profiles\" },\n      { label: \"Open dues\", value: data.arrearsCount, helper: \"Members behind on instalments\" },\n    ];\n    const investmentInfo = data.investments || { principal: 0, expectedInterest: 0 };\n    stats.push(\n      { label: \"Invested funds\", value: formatBDT(investmentInfo.principal), helper: \"Currently out earning returns\" },\n      { label: \"Expected interest\", value: formatBDT(investmentInfo.expectedInterest) },\n      { label: \"Total collected\", value: formatBDT(data.totalDeposits) }\n    );\n    return stats;\n  }, [data, router]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4\">\n        {summaryStats.map((stat) => (\n          <StatCard key={String(stat.label)} label={stat.label} value={stat.value} helper={stat.helper} onClick={stat.onClick} />\n        ))}\n      </div>\n\n      {me.role !== \"user\" ? <YearlyPeek /> : null}\n\n      {isRefreshing ? <p className=\"text-xs text-slate-500\">Refreshing data…</p> : null}\n\n      <Panel title=\"Members at a glance\" description=\"Open any member to record deposits, withdrawals, or review their ledger.\">\n        <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-3\">\n          {data.cards.map((card) => (\n            <MemberCard key={card.userId} member={card} onSelect={(id) => setDrawerUserId(id)} />\n          ))}\n        </div>\n      </Panel>\n\n      <AnimatePresence>\n        {drawerUserId ? <MemberDrawer userId={drawerUserId} role={me.role} onClose={() => setDrawerUserId(null)} /> : null}\n      </AnimatePresence>\n      <AnimatePresence>\n        {showTotalsDrawer ? (\n          <TotalBalanceDrawer\n            open={showTotalsDrawer}\n            totalDeposits={data.totalDeposits}\n            totalWithdraws={data.totalWithdraws}\n            available={data.groupBalance}\n            rows={data.cards}\n            onClose={() => setShowTotalsDrawer(false)}\n          />\n        ) : null}\n      </AnimatePresence>\n    </div>\n  );\n}\n","\"use client\";\nimport { ReactNode } from \"react\";\nimport { motion } from \"framer-motion\";\n\ntype Props = {\n  label: ReactNode;\n  value: ReactNode;\n  helper?: ReactNode;\n  icon?: ReactNode;\n  onClick?: () => void;\n};\n\nexport default function StatCard({ label, value, helper, icon, onClick }: Props) {\n  const CardElement: typeof motion.div | typeof motion.button = onClick ? motion.button : motion.div;\n  return (\n    <CardElement\n      type={onClick ? \"button\" : undefined}\n      onClick={onClick}\n      className={`rounded-2xl border border-white/60 dark:border-[#2b1f4a] bg-gradient-to-br from-[#FDF5FF] via-[#E9A5F1]/60 to-[#C68EFD]/40 dark:from-[#281745] dark:via-[#1f1136] dark:to-[#120926] p-5 shadow-lg shadow-[#C68EFD]/20 transition ${\n        onClick ? \"text-left focus:outline-none focus:ring-2 focus:ring-blue-400/40 cursor-pointer\" : \"\"\n      }`}\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.2 }}\n      whileHover={{ y: -4 }}\n      whileTap={onClick ? { scale: 0.98 } : undefined}\n    >\n      <div className=\"flex items-start gap-3\">\n        {icon ? <div className=\"text-blue-600 dark:text-blue-300\">{icon}</div> : null}\n        <div>\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">{label}</p>\n          <p className=\"text-2xl font-semibold text-slate-900 dark:text-white mt-2\">{value}</p>\n          {helper ? <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-1\">{helper}</p> : null}\n        </div>\n      </div>\n    </CardElement>\n  );\n}\n","\"use client\";\nimport { formatBDT } from \"@/lib/format\";\nimport { motion } from \"framer-motion\";\nimport type { MemberSummary } from \"@/types/home\";\n\ntype Props = {\n  member: Pick<MemberSummary, \"userId\" | \"name\" | \"balance\" | \"lastMonth\"> & {\n    totalDeposits?: number;\n    totalWithdraws?: number;\n  };\n  onSelect?: (userId: string) => void;\n};\n\nexport default function MemberCard({ member, onSelect }: Props) {\n  const handleClick = () => {\n    if (onSelect) onSelect(member.userId);\n  };\n  const Card = motion.button;\n  return (\n    <Card\n      type=\"button\"\n      onClick={handleClick}\n      className={`w-full text-left rounded-2xl border border-white/70 dark:border-[#2b1f4a] bg-gradient-to-br from-[#FDF5FF]/90 via-[#E9A5F1]/60 to-[#C68EFD]/50 dark:from-[#271444]/80 dark:via-[#1f0f37]/60 dark:to-[#140a25]/60 p-4 shadow-lg shadow-[#8F87F1]/15 ${\n        onSelect ? \"focus:outline-none focus:ring-2 focus:ring-[#C68EFD]/40\" : \"\"\n      }`}\n      whileHover={{ y: -4, boxShadow: \"0 20px 30px rgba(143,135,241,0.25)\" }}\n      whileTap={{ scale: 0.98 }}\n      transition={{ duration: 0.2, ease: [0.16, 1, 0.3, 1] }}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-base font-semibold text-slate-900 dark:text-white\">{member.name}</p>\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">Last month {formatBDT(member.lastMonth || 0)}</p>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">Balance</p>\n          <p className=\"text-sm font-semibold text-emerald-600 dark:text-emerald-300\">{formatBDT(member.balance || 0)}</p>\n        </div>\n      </div>\n    </Card>\n  );\n}\n","\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { AnimatePresence, motion, useReducedMotion } from \"framer-motion\";\nimport { api, formatBDT } from \"@/lib/clientApi\";\nimport DepositForm from \"@/components/deposit/DepositForm\";\nimport WithdrawForm from \"@/components/withdraw/WithdrawForm\";\nimport { SkeletonLine, SkeletonTableRows, SkeletonList } from \"@/components/Skeleton\";\nimport Button from \"@/components/Button\";\nimport { CloseIcon, PencilIcon, TrashIcon } from \"@/components/Icon\";\nimport { useToast } from \"@/components/providers/ToastProvider\";\nimport type { ServerMe } from \"@/lib/server/me\";\nimport { useLockBodyScroll } from \"@/hooks/useLockBodyScroll\";\n\ntype Props = {\n  userId: string;\n  role: ServerMe[\"role\"];\n  onClose: () => void;\n};\n\ntype LedgerTx = {\n  _id: string;\n  type: \"deposit\" | \"withdraw\";\n  amount: number;\n  occurredAt: string;\n  note?: string;\n};\n\nexport default function MemberDrawer({ userId, role, onClose }: Props) {\n  const qc = useQueryClient();\n  const { notify } = useToast();\n  const [tab, setTab] = useState<\"ledger\" | \"deposit\" | \"withdraw\" | \"dues\">(\"ledger\");\n  const [editing, setEditing] = useState<LedgerTx | null>(null);\n  const [amountInput, setAmountInput] = useState(\"\");\n\n  useEffect(() => {\n    if (!editing || editing.type !== \"deposit\") {\n      setAmountInput(\"\");\n      return;\n    }\n    setAmountInput((editing.amount / 100).toFixed(2));\n  }, [editing]);\n\n  useLockBodyScroll(true);\n\n  const txs = useQuery<LedgerTx[]>({\n    queryKey: [\"txs\", userId],\n    queryFn: async () => (await api.get(\"/transactions\", { params: { userId } })).data,\n    enabled: !!userId,\n  });\n\n  const dues = useQuery<any[]>({\n    queryKey: [\"dues\", userId],\n    queryFn: async () => (await api.get(`/users/${userId}/dues`)).data,\n    enabled: !!userId,\n  });\n\n  const patchTx = useMutation({\n    mutationFn: ({ id, body }: { id: string; body: any }) => api.patch(`/transactions/${id}`, body),\n    onMutate: async ({ id, body }) => {\n      await qc.cancelQueries({ queryKey: [\"txs\", userId] });\n      const previous = qc.getQueryData<LedgerTx[]>([\"txs\", userId]);\n      if (previous) {\n        qc.setQueryData<LedgerTx[]>(\n          [\"txs\", userId],\n          previous.map((tx) => (tx._id === id ? { ...tx, note: body.note ?? tx.note, occurredAt: body.date ?? tx.occurredAt, amount: body.amount ? Math.round(body.amount * 100) : tx.amount } : tx))\n        );\n      }\n      return { previous };\n    },\n    onError: (_err, _vars, context) => {\n      if (context?.previous) qc.setQueryData([\"txs\", userId], context.previous);\n      notify(\"Update failed\", \"error\");\n    },\n    onSuccess: () => notify(\"Transaction updated\", \"success\"),\n    onSettled: () => {\n      qc.invalidateQueries({ queryKey: [\"txs\", userId] });\n      setEditing(null);\n    },\n  });\n\n  const deleteTx = useMutation({\n    mutationFn: (id: string) => api.delete(`/transactions/${id}`),\n    onMutate: async (id: string) => {\n      await qc.cancelQueries({ queryKey: [\"txs\", userId] });\n      const previous = qc.getQueryData<LedgerTx[]>([\"txs\", userId]);\n      if (previous) qc.setQueryData([\"txs\", userId], previous.filter((tx) => tx._id !== id));\n      return { previous };\n    },\n    onError: (err: any, _vars, context) => {\n      if (context?.previous) qc.setQueryData([\"txs\", userId], context.previous);\n      notify(err?.response?.data?.error || \"Delete failed\", \"error\");\n    },\n    onSuccess: () => notify(\"Transaction deleted\", \"success\"),\n    onSettled: () => qc.invalidateQueries({ queryKey: [\"txs\", userId] }),\n  });\n\n  const canManage = role !== \"user\";\n\n  const handleSaveEdit = () => {\n    if (!editing) return;\n    const body: Record<string, any> = { note: editing.note, date: editing.occurredAt };\n    if (editing.type === \"deposit\" && amountInput) {\n      const parsed = Number(amountInput);\n      if (Number.isFinite(parsed)) body.amount = parsed;\n    }\n    patchTx.mutate({ id: editing._id, body });\n  };\n\n  const reduceMotion = useReducedMotion();\n  const sheetVariants = reduceMotion\n    ? { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 } }\n    : {\n        initial: { y: \"100%\" },\n        animate: { y: 0, transition: { duration: 0.3, ease: [0.16, 1, 0.3, 1] as const } },\n        exit: { y: \"100%\", transition: { duration: 0.22, ease: [0.4, 0, 1, 1] as const } },\n      };\n  const modalVariants = reduceMotion\n    ? { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 } }\n    : {\n        initial: { scale: 0.96, opacity: 0 },\n        animate: { scale: 1, opacity: 1, transition: { duration: 0.2, ease: [0.16, 1, 0.3, 1] as const } },\n        exit: { scale: 0.96, opacity: 0, transition: { duration: 0.15, ease: [0.4, 0, 1, 1] as const } },\n      };\n\n  return (\n    <motion.div className=\"fixed inset-0 z-40 bg-gradient-to-b from-white via-slate-50 to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 overflow-hidden\" variants={sheetVariants} initial=\"initial\" animate=\"animate\" exit=\"exit\">\n      <div className=\"w-full min-h-screen px-4 py-6 sm:px-6 lg:px-10\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Member</p>\n            <h3 className=\"text-2xl font-semibold text-slate-900 dark:text-white\">Account overview</h3>\n          </div>\n          <button type=\"button\" className=\"p-2 rounded-full border border-slate-200 dark:border-slate-700 hover:bg-white/70 dark:hover:bg-slate-900/60\" onClick={onClose} aria-label=\"Close member drawer\">\n            <CloseIcon />\n          </button>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-2 border-b border-slate-100 dark:border-slate-800 mb-4 text-sm\">\n          {([\"ledger\", \"deposit\", \"withdraw\", \"dues\"] as const).map((item) => (\n            <button\n              key={item}\n              type=\"button\"\n              className={`px-3 py-2 rounded-full transition ${tab === item ? \"bg-blue-600 text-white\" : \"bg-white/70 text-slate-600 dark:bg-slate-900/40 dark:text-slate-300\"}`}\n              onClick={() => setTab(item)}\n            >\n              {item.charAt(0).toUpperCase() + item.slice(1)}\n            </button>\n          ))}\n        </div>\n\n        {tab === \"deposit\" ? <DepositForm userId={userId} /> : null}\n        {tab === \"withdraw\" ? <WithdrawForm userId={userId} /> : null}\n\n        {tab === \"ledger\" ? (\n          <div className=\"flex flex-col h-[calc(100vh-200px)] pb-6\">\n            <div className=\"grid grid-cols-12 text-xs text-slate-500 px-2\">\n              <div className=\"col-span-3\">Date</div>\n              <div className=\"col-span-4\">Details</div>\n              <div className=\"col-span-3 text-right\">Amount</div>\n              <div className=\"col-span-2 text-right\">Actions</div>\n            </div>\n            {txs.isLoading ? (\n              <div className=\"p-4\">\n                <SkeletonTableRows rows={4} />\n              </div>\n            ) : txs.data?.length ? (\n              <div className=\"space-y-1 flex-1 overflow-auto pr-1 mt-2\">\n                {txs.data.map((tx) => {\n                  const isDeposit = tx.type === \"deposit\";\n                  const canDelete = canManage && isDeposit;\n                  return (\n                    <div key={tx._id} className=\"grid grid-cols-12 items-center px-2 py-2 text-sm border-b border-slate-100 dark:border-slate-900/40\">\n                      <span className=\"col-span-3\">{new Date(tx.occurredAt).toLocaleDateString(\"en-BD\")}</span>\n                      <span className={`col-span-4 ${isDeposit ? \"text-emerald-600\" : \"text-rose-500\"}`}>{tx.note || (isDeposit ? \"Deposit\" : \"Withdrawal\")}</span>\n                      <span className=\"col-span-3 text-right font-medium\">{formatBDT(tx.amount)}</span>\n                      <span className=\"col-span-2 flex justify-end gap-2 flex-wrap\">\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          className=\"w-20 justify-center px-3 py-1 text-xs flex items-center gap-1 rounded-full bg-[#8F87F1]/20 text-[#5b3cc4] hover:bg-[#8F87F1]/30 dark:bg-[#4c3c8c]/40 dark:text-white\"\n                          onClick={() =>\n                            setEditing({\n                              ...tx,\n                              occurredAt: new Date(tx.occurredAt).toISOString().slice(0, 10),\n                            })\n                          }\n                          disabled={!canManage}\n                          title={canManage ? \"Edit transaction\" : \"View only\"}\n                        >\n                          <PencilIcon className=\"w-3.5 h-3.5\" />\n                          <span className=\"hidden sm:inline\">Edit</span>\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          variant=\"danger\"\n                          className=\"w-20 justify-center px-3 py-1 text-xs flex items-center gap-1 rounded-full\"\n                          onClick={() => {\n                            if (!canDelete) return;\n                            if (confirm(\"Delete this transaction?\")) deleteTx.mutate(tx._id);\n                          }}\n                          disabled={!canDelete}\n                          title={canDelete ? \"Delete deposit\" : \"Only deposits can be deleted\"}\n                        >\n                          <TrashIcon className=\"w-3.5 h-3.5\" />\n                          <span className=\"hidden sm:inline\">Delete</span>\n                        </Button>\n                      </span>\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"text-sm text-slate-500 px-2 py-3\">No transactions yet.</div>\n            )}\n          </div>\n        ) : null}\n\n        {tab === \"dues\" ? (\n          <div>\n            <div className=\"grid grid-cols-3 text-xs text-slate-500 px-2 mb-2\">\n              <span>Due date</span>\n              <span>Amount</span>\n              <span className=\"text-right\">Status</span>\n            </div>\n            {dues.isLoading ? (\n              <div className=\"p-4\">\n                <SkeletonList rows={3} />\n              </div>\n            ) : dues.data?.length ? (\n              <div className=\"space-y-2 max-h-72 overflow-auto\">\n                {dues.data.map((due) => (\n                  <div key={due._id} className=\"rounded-xl border border-slate-200 dark:border-slate-800\">\n                    <div className=\"px-3 py-2 text-xs text-slate-500 dark:text-slate-400\">Principal: {formatBDT(due.principal)}</div>\n                    {due.schedule.slice(0, 4).map((item: any, idx: number) => (\n                      <div key={`${due._id}-${idx}`} className=\"grid grid-cols-3 items-center px-3 py-1 border-t border-slate-100 dark:border-slate-900/40 text-sm\">\n                        <span>{new Date(item.dueDate).toLocaleDateString(\"en-BD\")}</span>\n                        <span>{formatBDT(item.totalDuePoisha)}</span>\n                        <span className=\"text-right capitalize text-xs\">{item.status}</span>\n                      </div>\n                    ))}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-sm text-slate-500 px-2 py-3\">No dues scheduled.</div>\n            )}\n          </div>\n        ) : null}\n      </div>\n      <AnimatePresence>\n        {editing ? (\n          <motion.div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/30\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setEditing(null)}>\n            <motion.div className=\"w-[calc(100%-2rem)] max-w-md rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/90 dark:bg-slate-950/85 p-5 shadow-xl\" variants={modalVariants} initial=\"initial\" animate=\"animate\" exit=\"exit\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h4 className=\"text-base font-semibold text-slate-900 dark:text-white\">Edit transaction</h4>\n                <button type=\"button\" className=\"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800\" onClick={() => setEditing(null)}>\n                  <CloseIcon />\n                </button>\n              </div>\n              <div className=\"space-y-3 text-sm\">\n                <label className=\"space-y-1 block\">\n                  <span className=\"text-slate-600 dark:text-slate-300\">Date</span>\n                  <input type=\"date\" className=\"input-like\" value={editing.occurredAt} onChange={(e) => setEditing((prev) => (prev ? { ...prev, occurredAt: e.target.value } : prev))} />\n                </label>\n                <label className=\"space-y-1 block\">\n                  <span className=\"text-slate-600 dark:text-slate-300\">Note</span>\n                  <input className=\"input-like\" value={editing.note || \"\"} onChange={(e) => setEditing((prev) => (prev ? { ...prev, note: e.target.value } : prev))} />\n                </label>\n                <label className=\"space-y-1 block\">\n                  <span className=\"text-slate-600 dark:text-slate-300\">Amount (BDT)</span>\n                  <input\n                    className=\"input-like\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={amountInput}\n                    onChange={(e) => {\n                      setAmountInput(e.target.value);\n                      const parsed = Number(e.target.value);\n                      if (Number.isFinite(parsed)) {\n                        setEditing((prev) => (prev ? { ...prev, amount: Math.round(parsed * 100) } : prev));\n                      }\n                    }}\n                    disabled={editing.type !== \"deposit\"}\n                  />\n                  {editing.type !== \"deposit\" ? <p className=\"text-xs text-slate-500\">Withdrawals & investments lock the amount to keep group splits accurate.</p> : null}\n                </label>\n              </div>\n              <div className=\"mt-4 flex justify-end gap-2\">\n                <Button type=\"button\" variant=\"ghost\" onClick={() => setEditing(null)}>\n                  Cancel\n                </Button>\n                <Button type=\"button\" disabled={patchTx.isPending} onClick={handleSaveEdit}>\n                  {patchTx.isPending ? \"Saving…\" : \"Save changes\"}\n                </Button>\n              </div>\n            </motion.div>\n          </motion.div>\n        ) : null}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n","\"use client\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport Panel from \"@/components/Panel\";\nimport StatCard from \"@/components/StatCard\";\nimport { SkeletonList } from \"@/components/Skeleton\";\nimport { api, formatBDT } from \"@/lib/clientApi\";\nimport type { MemberSummary } from \"@/types/home\";\nimport { useLockBodyScroll } from \"@/hooks/useLockBodyScroll\";\n\ntype Props = {\n  open: boolean;\n  totalDeposits: number;\n  totalWithdraws: number;\n  available: number;\n  rows: MemberSummary[];\n  onClose: () => void;\n};\n\ntype TransactionSnapshot = { _id: string; note?: string; occurredAt: string; amount: number };\ntype InvestmentSummary = {\n  id: string;\n  name: string;\n  amountPoisha: number;\n  expectedInterestPoisha?: number;\n  returnedPoisha?: number;\n  status: \"active\" | \"completed\";\n};\n\nexport default function TotalBalanceDrawer({ open, totalDeposits, totalWithdraws, available, rows, onClose }: Props) {\n  useLockBodyScroll(open);\n\n  const withdraws = useQuery<TransactionSnapshot[]>({\n    queryKey: [\"withdrawals\", \"totals\"],\n    queryFn: async () => (await api.get(\"/transactions\", { params: { type: \"withdraw\", limit: 20 } })).data,\n    enabled: open,\n  });\n\n  const investments = useQuery<InvestmentSummary[]>({\n    queryKey: [\"investments\", \"totals\"],\n    queryFn: async () => (await api.get(\"/investments\")).data,\n    enabled: open,\n  });\n\n  if (!open) return null;\n  const net = totalDeposits - totalWithdraws;\n\n  const reduceMotion = useReducedMotion();\n  const sheetVariants = reduceMotion\n    ? { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 } }\n    : {\n        initial: { y: \"100%\" },\n        animate: { y: 0, transition: { duration: 0.32, ease: [0.16, 1, 0.3, 1] as const } },\n        exit: { y: \"100%\", transition: { duration: 0.22, ease: [0.4, 0, 1, 1] as const } },\n      };\n\n  return (\n    <motion.div className=\"fixed inset-0 z-40 bg-gradient-to-b from-white via-emerald-50 to-slate-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 overflow-y-auto\" variants={sheetVariants} initial=\"initial\" animate=\"animate\" exit=\"exit\">\n      <div className=\"w-full min-h-screen px-4 py-6 sm:px-6\">\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4\">\n          <div>\n            <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Total balance</p>\n            <h2 className=\"text-2xl font-semibold text-slate-900 dark:text-white\">Collections vs. deductions</h2>\n          </div>\n          <button type=\"button\" className=\"text-sm text-slate-500 hover:text-rose-500\" onClick={onClose}>\n            Close\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4 mb-4\">\n          <StatCard label=\"Collected overall\" value={formatBDT(totalDeposits)} />\n          <StatCard label=\"Deducted / invested\" value={formatBDT(totalWithdraws)} />\n          <StatCard label=\"Net balance\" value={formatBDT(net)} />\n          <StatCard label=\"Available cash\" value={formatBDT(available)} />\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n          <Panel title=\"Per-member totals\" description=\"Lifetime deposits vs. deductions.\">\n            <div className=\"overflow-auto max-h-72 pr-1\">\n              <table className=\"min-w-[520px] text-sm\">\n                <thead>\n                  <tr className=\"text-left text-slate-500 dark:text-slate-400\">\n                    <th className=\"py-2 pr-3 font-medium\">Member</th>\n                    <th className=\"py-2 px-3 font-medium text-right\">Deposited</th>\n                    <th className=\"py-2 px-3 font-medium text-right\">Deducted</th>\n                    <th className=\"py-2 pl-3 font-medium text-right\">Balance</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {rows.map((row) => (\n                    <tr key={row.userId} className=\"border-t border-slate-100 dark:border-slate-800\">\n                      <td className=\"py-2 pr-3 font-medium text-slate-900 dark:text-white\">{row.name}</td>\n                      <td className=\"py-2 px-3 text-right\">{formatBDT(row.totalDeposits || 0)}</td>\n                      <td className=\"py-2 px-3 text-right\">{formatBDT(row.totalWithdraws || 0)}</td>\n                      <td className=\"py-2 pl-3 text-right font-semibold text-emerald-600 dark:text-emerald-300\">{formatBDT(row.balance || 0)}</td>\n                    </tr>\n                  ))}\n                  {!rows.length && (\n                    <tr>\n                      <td colSpan={4} className=\"py-3 text-center text-slate-500\">\n                        No members yet.\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </Panel>\n\n          <Panel title=\"Recent withdrawals / investments\" description=\"Latest 20 records\">\n            {withdraws.isLoading ? (\n              <SkeletonList rows={4} />\n            ) : withdraws.data?.length ? (\n              <div className=\"space-y-2 max-h-72 overflow-auto pr-1\">\n                {withdraws.data.map((tx) => (\n                  <div key={tx._id} className=\"rounded-2xl border border-slate-200 dark:border-slate-800 p-3 flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-semibold text-slate-900 dark:text-white\">{tx.note || \"Withdrawal\"}</p>\n                      <p className=\"text-xs text-slate-500 dark:text-slate-400\">{new Date(tx.occurredAt).toLocaleDateString(\"en-BD\")}</p>\n                    </div>\n                    <p className=\"text-sm font-semibold text-rose-600 dark:text-rose-300\">{formatBDT(Math.abs(tx.amount || 0))}</p>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-sm text-slate-500\">No withdrawals recorded yet.</p>\n            )}\n          </Panel>\n        </div>\n\n        <Panel title=\"Investments overview\" description=\"Funds currently out of circulation.\">\n          {investments.isLoading ? (\n            <SkeletonList rows={3} />\n          ) : investments.data?.length ? (\n            <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n              {investments.data.map((inv) => {\n                const returned = inv.returnedPoisha || 0;\n                const total = inv.amountPoisha + (inv.expectedInterestPoisha || 0);\n                const pct = total ? Math.min(100, Math.round((returned / total) * 100)) : 0;\n                return (\n                  <div key={inv.id} className=\"rounded-2xl border border-slate-200 dark:border-slate-800 p-4 space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"font-semibold text-slate-900 dark:text-white\">{inv.name}</p>\n                      <span className=\"text-xs px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-300\">\n                        {inv.status === \"completed\" ? \"Completed\" : \"Active\"}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">Principal: {formatBDT(inv.amountPoisha)}</p>\n                    <div className=\"text-xs text-slate-500 dark:text-slate-400\">\n                      Returned {formatBDT(returned)} of {formatBDT(total)} ({pct}%)\n                    </div>\n                    <div className=\"w-full h-1.5 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden\">\n                      <div className=\"h-full bg-emerald-500\" style={{ width: `${pct}%` }} />\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <p className=\"text-sm text-slate-500\">No investments recorded yet.</p>\n          )}\n        </Panel>\n      </div>\n    </motion.div>\n  );\n}\n","\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { api, formatBDT } from \"@/lib/clientApi\";\n\nexport default function YearlyPeek() {\n  const router = useRouter();\n  const currentYear = new Date().getFullYear();\n  const years = [currentYear, currentYear - 1];\n  const [totals, setTotals] = useState<Record<number, number>>({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    async function load() {\n      setLoading(true);\n      setError(null);\n      try {\n        const results = await Promise.all(\n          years.map(async (year) => {\n            const res = await api.get(\"/reports/yearly-collection\", { params: { year } });\n            return { year, total: res.data?.total ?? 0 };\n          })\n        );\n        if (!cancelled) {\n          setTotals(results.reduce((acc, item) => ({ ...acc, [item.year]: item.total }), {}));\n        }\n      } catch (err: any) {\n        if (!cancelled) setError(err?.response?.data?.error || \"Failed to load yearly totals\");\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n    load();\n    return () => {\n      cancelled = true;\n    };\n  }, [currentYear]);\n\n  return (\n    <section className=\"space-y-3\">\n      <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Yearly collection</p>\n      <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n        {years.map((year) => {\n          const total = totals[year];\n          return (\n            <button\n              key={year}\n              type=\"button\"\n              onClick={() => router.push(`/yearly?year=${year}`)}\n              className=\"text-left rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/70 p-4 shadow-sm transition hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400/40\"\n            >\n              <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400\">Collection year</p>\n              <p className=\"text-2xl font-semibold text-slate-900 dark:text-white mt-1\">{year}</p>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400 mt-2\">\n                {typeof total === \"number\" ? formatBDT(total) : loading ? \"Loading…\" : \"Tap to view details\"}\n              </p>\n            </button>\n          );\n        })}\n      </div>\n      {error ? <p className=\"text-sm text-rose-500\">{error}</p> : null}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}